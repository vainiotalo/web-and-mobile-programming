{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["axios","get","newObject","post","id","delete","App","props","addPerson","event","preventDefault","personObject","name","state","newName","number","newNumber","persons","filter","data","length","alert","personService","then","response","setState","concat","removePerson","JSON","stringify","target","substring","window","confirm","person","handleChange","value","onSubmit","this","onChange","entries","handleClick","React","Component","Form","required","type","Directory","map","key","onClick","ReactDOM","render","document","getElementById"],"mappings":"uPAee,EAZA,WACb,OAAOA,IAAMC,IAHC,iBAcD,EARA,SAAAC,GACb,OAAOF,IAAMG,KAPC,eAOaD,IAOd,EAJA,SAAAE,GACb,OAAOJ,IAAMK,OAAN,UAXO,eAWP,YAA2BD,KCT9BE,E,YACF,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KAgBVC,UAAY,SAACC,GACTA,EAAMC,iBACN,IAAMC,EAAe,CACjBC,KAAM,EAAKC,MAAMC,QACjBC,OAAQ,EAAKF,MAAMG,WAGnB,EAAKH,MAAMI,QAAQC,QAAO,SAAAC,GAAI,OAAIA,EAAKP,OAAS,EAAKC,MAAMC,WAASM,OAAS,GAC1E,EAAKP,MAAMI,QAAQC,QAAO,SAAAC,GAAI,OAAIA,EAAKJ,SAAW,EAAKF,MAAMG,aAAWI,OAAS,EACpFC,MAAM,wCAGNC,EACYX,GACPY,MAAK,SAAAC,GACF,EAAKC,SAAS,CACdR,QAAS,EAAKJ,MAAMI,QAAQS,OAAOF,EAASL,MAC5CL,QAAS,GACTE,UAAW,SAnCR,EAyCnBW,aAAe,SAAClB,GACZ,IAAIL,EAAKwB,KAAKC,UAAU,CAACpB,EAAMqB,OAAO1B,KACtCA,EAAKA,EAAG2B,UAAU,EAAE3B,EAAGgB,OAAO,GAC9B,IAAMR,EAAO,CAACH,EAAMqB,OAAOlB,MAExBoB,OAAOC,QAAP,uBAA+BrB,KAElCU,EACYlB,GACPmB,MAAK,SAAAC,GACF,EAAKC,SAAS,CACVR,QAAS,EAAKJ,MAAMI,QAAQC,QAAO,SAAAgB,GAAM,OAAIA,EAAO9B,KAAOA,WApDxD,EA0DnB+B,aAAe,SAAC1B,GACZ,EAAKgB,SAAL,eAAiBhB,EAAMqB,OAAOlB,KAAOH,EAAMqB,OAAOM,SAzDlD,EAAKvB,MAAQ,CACTI,QAAS,GACTH,QAAS,GACTE,UAAW,IALA,E,iFASE,IAAD,OAChBM,IAEKC,MAAK,SAAAC,GACF,EAAKC,SAAS,CAAER,QAASO,EAASL,Y,+BAkD1C,OACI,6BACI,+CACA,kBAAC,EAAD,CAAMkB,SAAUC,KAAK9B,UAAW+B,SAAUD,KAAKH,aACvCvB,KAAM0B,KAAKzB,MAAMC,QAASC,OAAQuB,KAAKzB,MAAMG,YACrD,uCACA,kBAAC,EAAD,CAAWwB,QAASF,KAAKzB,MAAMI,QAASwB,YAAaH,KAAKX,oB,GAtExDe,IAAMC,WA4ElBC,EAAO,SAAC,GAA0C,IAAxCP,EAAuC,EAAvCA,SAAUE,EAA6B,EAA7BA,SAAU3B,EAAmB,EAAnBA,KAAMG,EAAa,EAAbA,OACtC,OACI,0BAAMsB,SAAUA,GACZ,sCACU,2BACEzB,KAAO,UACPwB,MAAOxB,EACP2B,SAAUA,EACVM,UAAQ,KAGpB,wCACY,2BACAjC,KAAO,YACPwB,MAAOrB,EACPwB,SAAUA,EACVM,UAAQ,KAGpB,6BACI,4BAAQC,KAAK,UAAb,kBAMVC,EAAY,SAAC,GAA8B,IAA5BP,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAC1B,OACI,6BACA,+IAMA,+BACI,+BACSD,EAAQQ,KAAI,SAAAd,GAAM,OACf,wBAAIe,IAAKf,EAAO9B,GAAK,IACjB,4BAAK8B,EAAOtB,MACZ,4BAAKsB,EAAOnB,QACZ,4BAAI,4BAAQmC,QAAST,EACT7B,KAAMsB,EAAOtB,KACbR,GAAI8B,EAAO9B,IAFnB,mBAUjBE,IC9Hf6C,IAASC,OACT,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.83e67bee.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst remove = id => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, remove }","import React from 'react'\r\nimport personService from './services/persons'\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            persons: [],\r\n            newName: '',\r\n            newNumber: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        personService\r\n            .getAll()\r\n            .then(response => {\r\n                this.setState({ persons: response.data })\r\n            })\r\n    }\r\n\r\n    addPerson = (event) => {\r\n        event.preventDefault()\r\n        const personObject = {\r\n            name: this.state.newName,\r\n            number: this.state.newNumber\r\n        }\r\n\r\n        if (this.state.persons.filter(data => data.name === this.state.newName).length > 0\r\n            || this.state.persons.filter(data => data.number === this.state.newNumber).length > 0){\r\n            alert(\"Nimi ja/tai numero on jo luettelossa\")\r\n        } \r\n        else {\r\n            personService\r\n                .create(personObject)\r\n                .then(response => {\r\n                    this.setState({\r\n                    persons: this.state.persons.concat(response.data),\r\n                    newName: '',\r\n                    newNumber: ''\r\n                    })\r\n                })\r\n        }\r\n    }\r\n\r\n    removePerson = (event) => {\r\n        let id = JSON.stringify([event.target.id])\r\n        id = id.substring(2,id.length-2)\r\n        const name = [event.target.name]\r\n\r\n        if(window.confirm(`poistetaanko ${name}`)){\r\n\r\n        personService\r\n            .remove(id)\r\n            .then(response => {\r\n                this.setState({\r\n                    persons: this.state.persons.filter(person => person.id !== id)\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Puhelinluettelo</h2>\r\n                <Form onSubmit={this.addPerson} onChange={this.handleChange}\r\n                        name={this.state.newName} number={this.state.newNumber} />\r\n                <h2>Numerot</h2>\r\n                <Directory entries={this.state.persons} handleClick={this.removePerson}  /> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Form = ({ onSubmit, onChange, name, number }) => {\r\n    return(\r\n        <form onSubmit={onSubmit}>\r\n            <div>\r\n                nimi: <input\r\n                        name = \"newName\"\r\n                        value={name}\r\n                        onChange={onChange}\r\n                        required\r\n                        />\r\n            </div>\r\n            <div>\r\n                numero: <input\r\n                        name = \"newNumber\"\r\n                        value={number}\r\n                        onChange={onChange}\r\n                        required\r\n                        />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">lisää</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst Directory = ({ entries, handleClick }) => {\r\n    return(\r\n        <div>\r\n        <style>{`\r\n            table{\r\n                width:30%;\r\n                text-align: left;\r\n            }\r\n        `}</style>\r\n        <table>\r\n            <tbody>\r\n                    {entries.map(person =>\r\n                        <tr key={person.id + ''}>\r\n                            <td>{person.name}</td>\r\n                            <td>{person.number}</td>\r\n                            <td><button onClick={handleClick}\r\n                                        name={person.name}\r\n                                        id={person.id}>poista</button></td>\r\n                        </tr>)}\r\n            </tbody>\r\n        </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n<App />, \r\ndocument.getElementById('root')\r\n)"],"sourceRoot":""}