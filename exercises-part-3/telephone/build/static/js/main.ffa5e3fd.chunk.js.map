{"version":3,"sources":["App.js","index.js"],"names":["App","props","addPerson","event","preventDefault","personObject","name","state","newName","number","newNumber","persons","filter","data","length","alert","axios","post","then","response","setState","concat","removePerson","id","parseInt","target","url","window","confirm","delete","person","handleChange","value","get","onSubmit","this","onChange","entries","handleClick","React","Component","Form","required","type","Directory","map","key","onClick","ReactDOM","render","document","getElementById"],"mappings":"uPAUMA,E,YACF,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KAgBVC,UAAY,SAACC,GACTA,EAAMC,iBACN,IAAMC,EAAe,CACjBC,KAAM,EAAKC,MAAMC,QACjBC,OAAQ,EAAKF,MAAMG,WAGnB,EAAKH,MAAMI,QAAQC,QAAO,SAAAC,GAAI,OAAIA,EAAKP,OAAS,EAAKC,MAAMC,WAASM,OAAS,GAC1E,EAAKP,MAAMI,QAAQC,QAAO,SAAAC,GAAI,OAAIA,EAAKJ,SAAW,EAAKF,MAAMG,aAAWI,OAAS,EACpFC,MAAM,wCAGNC,IAAMC,KAAK,wDAAyDZ,GACnEa,MAAK,SAAAC,GACF,EAAKC,SAAS,CACdT,QAAS,EAAKJ,MAAMI,QAAQU,OAAOF,EAASN,MAC5CL,QAAS,GACTE,UAAW,SAlCJ,EAwCnBY,aAAe,SAACnB,GACZ,IAAMoB,EAAKC,SAAS,CAACrB,EAAMsB,OAAOF,KAC5BjB,EAAO,CAACH,EAAMsB,OAAOnB,MACrBoB,EAAM,yDAA2DH,EAEpEI,OAAOC,QAAQ,gBAAkBtB,IAEpCU,IACKa,OAAOH,GACPR,MAAK,SAAAC,GACF,EAAKC,SAAS,CACVT,QAAS,EAAKJ,MAAMI,QAAQC,QAAO,SAAAkB,GAAM,OAAIA,EAAOP,KAAOA,WAnDxD,EAyDnBQ,aAAe,SAAC5B,GACZ,EAAKiB,SAAL,eAAiBjB,EAAMsB,OAAOnB,KAAOH,EAAMsB,OAAOO,SAxDlD,EAAKzB,MAAQ,CACTI,QAAS,GACTH,QAAS,GACTE,UAAW,IALA,E,iFASE,IAAD,OAChBM,IACKiB,IAAI,yDACJf,MAAK,SAAAC,GACF,EAAKC,SAAS,CAAET,QAASQ,EAASN,Y,+BAiD1C,OACI,6BACI,+CACA,kBAAC,EAAD,CAAMqB,SAAUC,KAAKjC,UAAWkC,SAAUD,KAAKJ,aACvCzB,KAAM6B,KAAK5B,MAAMC,QAASC,OAAQ0B,KAAK5B,MAAMG,YACrD,uCACA,kBAAC,EAAD,CAAW2B,QAASF,KAAK5B,MAAMI,QAAS2B,YAAaH,KAAKb,oB,GArExDiB,IAAMC,WA2ElBC,EAAO,SAAC,GAA0C,IAAxCP,EAAuC,EAAvCA,SAAUE,EAA6B,EAA7BA,SAAU9B,EAAmB,EAAnBA,KAAMG,EAAa,EAAbA,OACtC,OACI,0BAAMyB,SAAUA,GACZ,sCACU,2BACE5B,KAAO,UACP0B,MAAO1B,EACP8B,SAAUA,EACVM,UAAQ,KAGpB,wCACY,2BACApC,KAAO,YACP0B,MAAOvB,EACP2B,SAAUA,EACVM,UAAQ,KAGpB,6BACI,4BAAQC,KAAK,UAAb,kBAMVC,EAAY,SAAC,GAA8B,IAA5BP,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAC1B,OACI,6BACA,+IAMA,+BACI,+BACSD,EAAQQ,KAAI,SAAAf,GAAM,OACf,wBAAIgB,IAAKhB,EAAOP,GAAK,IACjB,4BAAKO,EAAOxB,MACZ,4BAAKwB,EAAOrB,QACZ,4BAAI,4BAAQsC,QAAST,EACThC,KAAMwB,EAAOxB,KACbiB,GAAIO,EAAOP,IAFnB,mBAUjBvB,ICpIfgD,IAASC,OACT,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.ffa5e3fd.chunk.js","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            persons: [],\r\n            newName: '',\r\n            newNumber: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios\r\n            .get('https://fullstack-telephone.herokuapp.com/api/persons')\r\n            .then(response => {\r\n                this.setState({ persons: response.data })\r\n            })\r\n    }\r\n\r\n    addPerson = (event) => {\r\n        event.preventDefault()\r\n        const personObject = {\r\n            name: this.state.newName,\r\n            number: this.state.newNumber\r\n        }\r\n\r\n        if (this.state.persons.filter(data => data.name === this.state.newName).length > 0\r\n            || this.state.persons.filter(data => data.number === this.state.newNumber).length > 0){\r\n            alert(\"Nimi ja/tai numero on jo luettelossa\")\r\n        } \r\n        else {\r\n            axios.post('https://fullstack-telephone.herokuapp.com/api/persons', personObject)\r\n            .then(response => {\r\n                this.setState({\r\n                persons: this.state.persons.concat(response.data),\r\n                newName: '',\r\n                newNumber: ''\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    removePerson = (event) => {\r\n        const id = parseInt([event.target.id])\r\n        const name = [event.target.name]\r\n        const url = 'https://fullstack-telephone.herokuapp.com/api/persons/' + id\r\n\r\n        if(window.confirm('poistetaanko ' + name)){\r\n\r\n        axios\r\n            .delete(url)\r\n            .then(response => {\r\n                this.setState({\r\n                    persons: this.state.persons.filter(person => person.id !== id)\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Puhelinluettelo</h2>\r\n                <Form onSubmit={this.addPerson} onChange={this.handleChange}\r\n                        name={this.state.newName} number={this.state.newNumber} />\r\n                <h2>Numerot</h2>\r\n                <Directory entries={this.state.persons} handleClick={this.removePerson}  /> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Form = ({ onSubmit, onChange, name, number }) => {\r\n    return(\r\n        <form onSubmit={onSubmit}>\r\n            <div>\r\n                nimi: <input\r\n                        name = \"newName\"\r\n                        value={name}\r\n                        onChange={onChange}\r\n                        required\r\n                        />\r\n            </div>\r\n            <div>\r\n                numero: <input\r\n                        name = \"newNumber\"\r\n                        value={number}\r\n                        onChange={onChange}\r\n                        required\r\n                        />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">lisää</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst Directory = ({ entries, handleClick }) => {\r\n    return(\r\n        <div>\r\n        <style>{`\r\n            table{\r\n                width:25%;\r\n                text-align: left;\r\n            }\r\n        `}</style>\r\n        <table>\r\n            <tbody>\r\n                    {entries.map(person =>\r\n                        <tr key={person.id + ''}>\r\n                            <td>{person.name}</td>\r\n                            <td>{person.number}</td>\r\n                            <td><button onClick={handleClick}\r\n                                        name={person.name}\r\n                                        id={person.id}>poista</button></td>\r\n                        </tr>)}\r\n            </tbody>\r\n        </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n<App />, \r\ndocument.getElementById('root')\r\n)"],"sourceRoot":""}